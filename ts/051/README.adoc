= TS-51: AI Tools
:toc: macro
:toc-title: Contents

This technical standard covers best practices for using AI tools to support software development workflows – specifically, the generation of code, architectural designs, and documentation. Topics covered include:

* Task segmentation strategies.
* Cost optimization techniques.
* Security considerations.

toc::[]

== AI workflows

It is RECOMMENDED to split complex development tasks into distinct planning and implementation phases. This allows you to match AI model capabilities to task requirements. Premium, specialist models tend to do a better job at planning code changes than cheaper, general-purpose models. But the cheaper models are often perfectly capable of executing the plans generated by the premium models.

So you can use the best models for planning complex programming tasks, and save on costs by having cheaper models implement the plans generated by the premium models. This strategy means you can reduce AI subscription costs while optimizing AI output quality.

The underlying principle here is to use modern, heavy duty, specialist coding models for tasks that require a lot of context, and use older, lightweight, or general-purpose models for tasks that require minimal input – such as a step-by-step execution plan or a few short interactive prompts.

Thus, use premium models – eg. GPT-4, Claude Opus – for planning and architecture decisions, complex problem-solving, and for security analysis, architectural compliance, and other such tasks. Use cost-efficient models – eg. GPT-4 mini, Claude Haiku – for code construction from pre-approved plans, and for small-scale refactoring and routine chores.

=== Planning phase

When using AI tools for planning code changes, provide comprehensive context including requirements, constraints, and existing architecture. Request structured outputs, eg. diagrams, pseudocode, API specifications.

Validate architectural decisions against project standards _before_ implementing them. For large-scale or complex changes, document AI-assisted design decisions for team review before implementation.

=== Implementation phase

When using AI for code generation, provide clear, specific prompts based on pre-approved execution plans.

Ask the AI to implement execution plans incrementally. This means generating code in small, stable, independently-deployable increments. It is easier to review and test code changes incrementally than in a single "big bang" changeset.

For every incremental step, conduct manual review of the AI-generated code, and verify adherence to coding standards and style guides. Also, manually test the AI-generated code before committing the changes. So not rely on AI-generated tests to verify the correctness of the AI-generated code!

After manual review and testing, run automated tests and static analysis tools before committing the changes and integrating them into the project mainline. All normal developer review and approval processes MUST remain in place for AI-generated code.

== Cost optimization

* Use premium models for planning, cheaper models for implementation.
* Batch similar tasks to reduce API calls, saving on credits.
* Develop reusable prompt templates for common tasks.
* Provide sufficient context in initial prompts to minimize clarification rounds.
* Improve output quality by providing examples as context.

== Security considerations

Be careful about submitting proprietary code, credentials, or sensitive data to public AI services. Use enterprise AI solutions with appropriate data handling agreements for commercial projects.

Otherwise, all security concerns regarding AI-generated code are the same as for human-written code. For example, all dependencies installed by AIs must be audited, eg. for security vulnerabilities.
